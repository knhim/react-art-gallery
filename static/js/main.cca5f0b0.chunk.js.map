{"version":3,"sources":["components/Map.js","components/ArtPiece.js","components/ArtPieces.js","components/Credit.js","components/App.js","index.js"],"names":["Map","latLng","mapRef","useRef","useEffect","current","L","map","center","latitude","longitude","zoom","layers","tileLayer","attribution","markerRef","setLatLng","lat","lng","marker","addTo","undefined","id","style","width","height","ArtPiece","primaryimageurl","title","medium","dated","dimensions","classification","toggleOpen","index","display","activeIndex","className","onClick","src","alt","ArtPieces","artData","fullObject","useState","setActiveIndex","record","Credit","App","setArtData","setFullObject","a","axios","params","apikey","process","hasimage","size","copyright","century","sort","place","response","data","records","filter","element","forEach","responseLocation","objects","access_key","query","places","displayname","latLngResponse","console","error","fetchArtData","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.cca5f0b0.chunk.js","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport L from 'leaflet';\n\nconst Map = ({ latLng }) => {\n  const mapRef = useRef(null);\n\n  const style = {\n    width: '100%',\n    height: '200px',\n  };\n\n  useEffect(() => {\n    mapRef.current = L.map('map', {\n      center: [latLng.latitude, latLng.longitude],\n      zoom: 12,\n      layers: [\n        L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {\n          attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n        }),\n      ],\n    });\n  }, [latLng.latitude, latLng.longitude]);\n\n  // add a marker\n  const markerRef = useRef(null);\n  useEffect(() => {\n    if (markerRef.current) {\n      markerRef.current.setLatLng({ lat: latLng.latitude, lng: latLng.longitude });\n    } else {\n      markerRef.current = L.marker({ lat: latLng.latitude, lng: latLng.longitude }).addTo(\n        mapRef.current\n      );\n    }\n  });\n\n  if (latLng === undefined) {\n    return <p>No map available</p>;\n  }\n\n  return <div id=\"map\" style={style}></div>;\n};\n\nexport default Map;\n","import React from 'react';\nimport Map from './Map';\n\nconst ArtPiece = ({\n  primaryimageurl,\n  title,\n  medium,\n  dated,\n  dimensions,\n  classification,\n  latLng,\n  toggleOpen,\n  display,\n  index,\n  activeIndex,\n}) => {\n  if (primaryimageurl === null) {\n    return null;\n  }\n\n  if (activeIndex === index && latLng === undefined) {\n    return (\n      <>\n        <div\n          className=\"border-2 border-gray-600 mx-3 my-4 flex flex-col lg:w-3/12 lg:h-auto lg:m-auto lg:my-4\"\n          onClick={() => toggleOpen(index)}\n        >\n          <img\n            className=\"object-contain max-h-96 lg:max-h-full\"\n            src={primaryimageurl}\n            alt={title}\n          />\n\n          <div className=\"p-2 border border-gray-300 mx-2 my-3\">\n            <h1>{title}</h1>\n            <p>{medium}</p>\n            <p>{dated}</p>\n            <p>{dimensions}</p>\n          </div>\n\n          <div>\n            <p className=\"p-2 border border-gray-300 mx-2 my-3 text-center italic\">\n              No map available\n            </p>\n          </div>\n        </div>\n      </>\n    );\n  } else if (activeIndex === index) {\n    return (\n      <>\n        <div\n          className=\"border-2 border-gray-600 mx-3 my-4 flex flex-col lg:w-3/12 lg:h-auto lg:m-auto lg:my-4\"\n          onClick={() => toggleOpen(index)}\n        >\n          <img\n            className=\"object-contain max-h-96 lg:max-h-full\"\n            src={primaryimageurl}\n            alt={title}\n          />\n          <div className=\"p-2 border border-gray-300 mx-2 my-3\">\n            <h1>{title}</h1>\n            <p>{medium}</p>\n            <p>{dated}</p>\n            <p>{dimensions}</p>\n          </div>\n\n          <div className=\"p-2\">\n            <Map latLng={latLng} />\n          </div>\n        </div>\n      </>\n    );\n  }\n  return (\n    <div>\n      {\n        <div\n          className=\"border-2 border-gray-600 mx-3 my-4 flex flex-col lg:w-3/12 lg:h-auto lg:m-auto lg:my-4\"\n          onClick={() => toggleOpen(index)}\n        >\n          <img\n            className=\"object-contain max-h-96 lg:max-h-full\"\n            src={primaryimageurl}\n            alt={title}\n          />\n        </div>\n      }\n    </div>\n  );\n};\n\nexport default ArtPiece;\n","import ArtPiece from './ArtPiece';\nimport React, { useState } from 'react';\n\nconst ArtPieces = ({ artData, fullObject, latLng }) => {\n  const [activeIndex, setActiveIndex] = useState(null);\n\n  const toggleOpen = (index) => {\n    setActiveIndex(activeIndex === index ? null : index);\n  };\n\n  if (artData) {\n    return artData.map((record, index) => {\n      return (\n        <ArtPiece\n          key={record.id}\n          primaryimageurl={record.primaryimageurl}\n          title={record.title}\n          medium={record.medium}\n          dated={record.dated}\n          dimensions={record.dimensions}\n          classification={record.classification}\n          latLng={latLng[index]}\n          index={index}\n          activeIndex={activeIndex}\n          toggleOpen={toggleOpen}\n        />\n      );\n    });\n  }\n  return <h1>loading...</h1>;\n};\n\nexport default ArtPieces;\n","import React from 'react';\n\nconst Credit = () => {\n  return <div className=\"text-center my-1\">Images provided by Harvard Art Museum's API</div>;\n};\n\nexport default Credit;\n","import 'tailwindcss/tailwind.css';\nimport React, { useEffect, useState } from 'react';\nimport ArtPieces from './ArtPieces';\nimport Credit from './Credit';\n// import data from './data';\nimport axios from 'axios';\n\nconst App = () => {\n  const [artData, setArtData] = useState([]);\n  const [fullObject, setFullObject] = useState([]);\n  const [latLng, setLatLng] = useState([]);\n\n  useEffect(() => {\n    const fetchArtData = async () => {\n      try {\n        let response = await axios(`https://api.harvardartmuseums.org/object?`, {\n          params: {\n            apikey: process.env.REACT_APP_HARVARD_ART_API_KEY,\n            hasimage: 1,\n            size: '25',\n            copyright: 'null',\n            classification: 'Paintings',\n            century: 'any',\n            medium: 'any',\n            sort: 'random',\n            place: 'any',\n          },\n        });\n        //filter out data that does not have a primaryurl\n        response = response.data.records.filter((records) => records.primaryimageurl !== null);\n        setArtData(response);\n\n        // make another request to grab location data, using the objectId from the first request\n\n        const objectIds = response.map((element) => element.id);\n\n        objectIds.forEach(async (id) => {\n          const responseLocation = await axios(`https://api.harvardartmuseums.org/object/${id}`, {\n            params: {\n              apikey: process.env.REACT_APP_HARVARD_ART_API_KEY,\n            },\n          });\n\n          setFullObject((objects) => [...objects, responseLocation.data]);\n\n          //after that request is finished, use location data to make a request to positionStack to grab lattitude and longitude\n          const latLngResponse = await axios(`http://api.positionstack.com/v1/forward?`, {\n            params: {\n              access_key: process.env.REACT_APP_POSITIONSTACK_API_KEY,\n              query: responseLocation.data.places[0].displayname,\n            },\n          });\n\n          //  data.data[0] to grab first value from array response\n          setLatLng((latLng) => [...latLng, latLngResponse.data.data[0]]);\n        });\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    fetchArtData();\n  }, []);\n\n  return (\n    <>\n      <h1 className=\"text-center text-gray-900 font-bold m-2\">Art Gallery</h1>\n      <ArtPieces artData={artData} fullObject={fullObject} /*latLng={data}*/ latLng={latLng} />\n      <Credit />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}