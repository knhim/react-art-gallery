(this["webpackJsonpreact-art-gallery"]=this["webpackJsonpreact-art-gallery"]||[]).push([[0],{46:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a(20),n=a.n(c),i=a(5),l=a.n(i),s=a(11),o=a(10),u=a(3),d=(a(26),a(7)),j=a.n(d),m=a(0),b=function(e){var t=e.latLng,a=Object(r.useRef)(null);Object(r.useEffect)((function(){a.current=j.a.map("map",{center:[t.latitude,t.longitude],zoom:12,layers:[j.a.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'})]})}),[t.latitude,t.longitude]);var c=Object(r.useRef)(null);return Object(r.useEffect)((function(){c.current?c.current.setLatLng({lat:t.latitude,lng:t.longitude}):c.current=j.a.marker({lat:t.latitude,lng:t.longitude}).addTo(a.current)})),void 0===t?Object(m.jsx)("p",{children:"No map available"}):Object(m.jsx)("div",{id:"map",style:{width:"100%",height:"200px"}})},p=function(e){var t=e.primaryimageurl,a=e.title,r=e.medium,c=e.dated,n=e.dimensions,i=(e.classification,e.latLng),l=e.toggleOpen,s=(e.display,e.index),o=e.activeIndex;return null===t?null:o===s&&void 0===i?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"border-2 border-gray-600 mx-3 my-4 flex flex-col lg:w-3/12 lg:h-auto lg:m-auto lg:my-4",onClick:function(){return l(s)},children:[Object(m.jsx)("img",{className:"object-contain max-h-96 lg:max-h-full",src:t,alt:a}),Object(m.jsxs)("div",{className:"p-2 border border-gray-300 mx-2 my-3",children:[Object(m.jsx)("h1",{children:a}),Object(m.jsx)("p",{children:r}),Object(m.jsx)("p",{children:c}),Object(m.jsx)("p",{children:n})]}),Object(m.jsx)("div",{children:Object(m.jsx)("p",{className:"p-2 border border-gray-300 mx-2 my-3 text-center italic",children:"No map available"})})]})}):o===s?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"border-2 border-gray-600 mx-3 my-4 flex flex-col lg:w-3/12 lg:h-auto lg:m-auto lg:my-4",onClick:function(){return l(s)},children:[Object(m.jsx)("img",{className:"object-contain max-h-96 lg:max-h-full",src:t,alt:a}),Object(m.jsxs)("div",{className:"p-2 border border-gray-300 mx-2 my-3",children:[Object(m.jsx)("h1",{children:a}),Object(m.jsx)("p",{children:r}),Object(m.jsx)("p",{children:c}),Object(m.jsx)("p",{children:n})]}),Object(m.jsx)("div",{className:"p-2",children:Object(m.jsx)(b,{latLng:i})})]})}):Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"border-2 border-gray-600 mx-3 my-4 flex flex-col lg:w-3/12 lg:h-auto lg:m-auto lg:my-4",onClick:function(){return l(s)},children:Object(m.jsx)("img",{className:"object-contain max-h-96 lg:max-h-full",src:t,alt:a})})})},x=function(e){var t=e.artData,a=(e.fullObject,e.latLng),c=Object(r.useState)(null),n=Object(u.a)(c,2),i=n[0],l=n[1],s=function(e){l(i===e?null:e)};return t?t.map((function(e,t){return Object(m.jsx)(p,{primaryimageurl:e.primaryimageurl,title:e.title,medium:e.medium,dated:e.dated,dimensions:e.dimensions,classification:e.classification,latLng:a[t],index:t,activeIndex:i,toggleOpen:s},e.id)})):Object(m.jsx)("h1",{children:"loading..."})},f=function(){return Object(m.jsx)("div",{className:"text-center my-1",children:"Images provided by Harvard Art Museum's API"})},g=a(8),h=a.n(g),O=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)([]),i=Object(u.a)(n,2),d=i[0],j=i[1],b=Object(r.useState)([]),p=Object(u.a)(b,2),g=p[0],O=p[1];return Object(r.useEffect)((function(){(function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h()("https://api.harvardartmuseums.org/object?",{params:{apikey:"d29e23e0-b43f-11ea-8f0d-21177cb1a6f5",hasimage:1,size:"25",copyright:"null",classification:"Paintings",century:"any",medium:"any",sort:"random",place:"any"}});case 3:t=(t=e.sent).data.records.filter((function(e){return null!==e.primaryimageurl})),c(t),t.map((function(e){return e.id})).forEach(function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h()("https://api.harvardartmuseums.org/object/".concat(t),{params:{apikey:"d29e23e0-b43f-11ea-8f0d-21177cb1a6f5"}});case 2:return a=e.sent,j((function(e){return[].concat(Object(s.a)(e),[a.data])})),e.next=6,h()("http://api.positionstack.com/v1/forward?",{params:{access_key:"f575200a58dadfc45f4c8800e1fa6dd5",query:a.data.places[0].displayname}});case 6:r=e.sent,O((function(e){return[].concat(Object(s.a)(e),[r.data.data[0]])}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:"text-center text-gray-900 font-bold m-2",children:"Art Gallery"}),Object(m.jsx)(x,{artData:a,fullObject:d,latLng:g}),Object(m.jsx)(f,{})]})};n.a.render(Object(m.jsx)(O,{}),document.querySelector("#root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.cca5f0b0.chunk.js.map